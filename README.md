# 商品实时推荐系统

## V1.0架构

#### 1. 系统架构

​	当前系统主要分为两个模块,分别是日志数据导入Hbase(flink-2-hbase)和用户推荐模块(web)

 - 在日志数据模块中,又主要分为三个部分:

   - 日志导入:

     从Kafka接收的数据直接导入进Hbase事实表,保存完整的日志log,日志中包含了用户Id,用户操作的产品id,操作时间,行为(如购买,点击,推荐等).

   - 用户画像计算:

     v1.0按照三个维度去计算用户画像,分别是用户的颜色兴趣,用户的产地兴趣,和用户的风格兴趣.根据日志不断的修改用户画像的数据,记录在Hbase中.

   - 事实热度榜:

     通过Flink时间窗口机制,统计当前时间的实时热度,并将数据缓存在Redis中

 - 系统架构图

<img src="resources/pic/v1.0架构.png" width="80%" height="100%">

#### 2.基于用户画像的推荐逻辑

​	在V1.0架构中,用户推荐系统基于用户画像和热度榜两个维度,用户画像有三个特征,包含color/country/style三个角度

<img src="resources/pic/v1.0用户推荐流程.png" width="80%" height="100%">

- ### 下一步工作

  1. 基于UserCF/ItemCF进行推行
  2. 统计召回率/准确率等业务指标

